<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ランダム質問</title>
</head>
<body>
  <h1 id="question">ここに質問が表示されます</h1>
  <button id="nextBtn">次の質問</button>
  <p id="status"></p>

  <script>
    const btn = document.getElementById("nextBtn");
    const questionElement = document.getElementById("question");
    const statusElement = document.getElementById("status");
    const scriptUrl = "https://script.google.com/macros/s/AKfycbzuUdwdTcxCsxpAbgOyguTeSxBWPidM-U02UUZYSa5zZvvR3HfR2lNMb9voLeyhDTw/exec";

    async function fetchQuestion() {
      btn.disabled = true;
      statusElement.textContent = "読み込み中...";

      try {
        const response = await fetch(scriptUrl);
        const data = await response.json();
        questionElement.textContent = data.question;
        statusElement.textContent = "";
      } catch (error) {
        questionElement.textContent = "取得に失敗しました";
        statusElement.textContent = "";
      } finally {
        btn.disabled = false;
      }
    }

    btn.addEventListener("click", fetchQuestion);

    // 初回表示
    fetchQuestion();
  </script>
</body>
</html>
