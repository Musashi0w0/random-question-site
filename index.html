<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>クイズ500のこと風</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="question-container">読み込み中...</div>
  <button id="next-question">次の質問</button>

  <script>
    const sheetUrl = 'https://script.google.com/macros/s/AKfycbzuUdwdTcxCsxpAbgOyguTeSxBWPidM-U02UUZYSa5zZvvR3HfR2lNMb9voLeyhDTw/exec';
    const questionContainer = document.getElementById('question-container');
    const button = document.getElementById('next-question');

    async function fetchQuestion() {
      button.disabled = true;
      questionContainer.textContent = '読み込み中...';

      try {
        const response = await fetch(sheetUrl);
        const data = await response.json();
        const questions = data.questions;
        const randomIndex = Math.floor(Math.random() * questions.length);
        const question = questions[randomIndex];
        questionContainer.textContent = question;
      } catch (error) {
        questionContainer.textContent = '質問の取得に失敗しました';
        console.error(error);
      }

      button.disabled = false;
    }

    button.addEventListener('click', fetchQuestion);
    fetchQuestion(); // 初回読み込み
  </script>
</body>
</html>
